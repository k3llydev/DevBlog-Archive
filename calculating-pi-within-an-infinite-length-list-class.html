<p>I recently encountered a coding challenge requiring the development of a <code>List</code> class capable of handling infinite-length lists. One of the requirements was for the class to include a <code>PI()</code> method to compute the value of&nbsp;&#960;. To address this, I employed <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*" title="null" target="_blank">generator functions</a> to manage infinity, applying the same concept to the <code>PI()</code> method generator.</p><p>Below is an outline of the key methods involved in calculating&nbsp;&#960;:</p><code class="hljs language-javascript">%3Cspan%20class=%22hljs-keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22hljs-title%20class_%22%3EList%3C/span%3E%20%7B%0A%0A%20%20%20%3Cspan%20class=%22hljs-title%20function_%22%3Econstructor%3C/span%3E(%3Cspan%20class=%22hljs-params%22%3Egenerator,%20min%20=%20%3Cspan%20class=%22hljs-number%22%3E0%3C/span%3E,%20max%20=%20%3Cspan%20class=%22hljs-literal%22%3EInfinity%3C/span%3E%3C/span%3E)%20%7B%20%3Cspan%20class=%22hljs-comment%22%3E/*%20...%20*/%3C/span%3E%7D%0A%0A%20%20%20%3Cspan%20class=%22hljs-comment%22%3E//%20Implementation%20of%20other%20list%20methods...%3C/span%3E%0A%0A%20%20%20%3Cspan%20class=%22hljs-title%20function_%22%3Eget%3C/span%3E(%3Cspan%20class=%22hljs-params%22%3En%3C/span%3E)%20%7B%20%3Cspan%20class=%22hljs-comment%22%3E/*%20Retrieves%20a%20value%20based%20on%20the%20provided%20index%20*/%3C/span%3E%20%7D%0A%0A%20%20%20%3Cspan%20class=%22hljs-keyword%22%3Estatic%3C/span%3E%20%3Cspan%20class=%22hljs-title%20function_%22%3Earctan%3C/span%3E(%3Cspan%20class=%22hljs-params%22%3Ex%3C/span%3E)%20%7B%20%3Cspan%20class=%22hljs-comment%22%3E/*%20Generator%20for%20the%20Arctan%20series%20*/%3C/span%3E%20%7D%0A%0A%20%20%20%3Cspan%20class=%22hljs-keyword%22%3Estatic%3C/span%3E%20%3Cspan%20class=%22hljs-keyword%22%3Eget%3C/span%3E%20%3Cspan%20class=%22hljs-title%20function_%22%3EPI%3C/span%3E()%20%7B%20%3Cspan%20class=%22hljs-comment%22%3E/*%20Generator%20for%20PI%20calculation%20*/%3C/span%3E%20%7D%0A%0A%7D</code><p>The implementation includes:</p><ol><li>The <code>constructor</code> method, which accepts the generator function and stores it for future use.</li><li>The <code>arctan</code> method, which takes a parameter <code>x</code> (explained in detail below).</li><li>The <code>PI</code> method is a getter, meaning we can directly call it to retrieve values generated by the function.</li></ol><p>Let&#39;s now examine a few steps leading up to the construction of the <code>arctan(x)</code> method.</p><h2 id="arctan-trigonometry">Arctan (Trigonometry)</h2><p>The formula used to create the <code>arctan(x)</code> method derives from the concept of inverse trigonometric functions, with <a href="https://www.cuemath.com/trigonometry/arctan/" title="null" target="_blank">arctan</a> being a key function. While arctan has various applications, I focused specifically on its role in calculating&nbsp;&#960;. Consider the following formula:</p><code class="hljs language-javascript">%3Cspan%20class=%22hljs-keyword%22%3Econst%3C/span%3E%20%3Cspan%20class=%22hljs-variable%20constant_%22%3EPI%3C/span%3E%20=%20%3Cspan%20class=%22hljs-number%22%3E4%3C/span%3E%20*%20(%20%3Cspan%20class=%22hljs-title%20function_%22%3Earctan%3C/span%3E(%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E/%3Cspan%20class=%22hljs-number%22%3E2%3C/span%3E)%20+%20%3Cspan%20class=%22hljs-title%20function_%22%3Earctan%3C/span%3E(%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E/%3Cspan%20class=%22hljs-number%22%3E3%3C/span%3E)%20);</code><p>This is a <a href="https://en.wikipedia.org/wiki/Machin-like_formula" title="null" target="_blank">Machin-like formula</a> to approximate&nbsp;&#960;, specifically derived from <a href="https://example.com" title="null" target="_blank">Euler&#39;s solution</a>, which uses a Taylor series to represent the infinite sum:</p><p><img src="/DevBlog-Archive-resources/arctan_formula_taylor_series.jpg" alt="Arctan function with Taylor series"></p><p>In code, this can be expressed as:</p><code class="hljs language-javascript">%3Cspan%20class=%22hljs-number%22%3E0%3C/span%3E%20+%20x%5E%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E/%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E%20-%20x%5E%3Cspan%20class=%22hljs-number%22%3E3%3C/span%3E/%3Cspan%20class=%22hljs-number%22%3E3%3C/span%3E%20+%20x%5E%3Cspan%20class=%22hljs-number%22%3E5%3C/span%3E/%3Cspan%20class=%22hljs-number%22%3E5%3C/span%3E%20-%20x%5E%3Cspan%20class=%22hljs-number%22%3E7%3C/span%3E/%3Cspan%20class=%22hljs-number%22%3E7%3C/span%3E%20+%20...%20(continues%20infinitely)</code><p>Here is the implementation of the <code>arctan(x)</code> method:</p><code class="hljs language-javascript">%3Cspan%20class=%22hljs-keyword%22%3Estatic%3C/span%3E%20%3Cspan%20class=%22hljs-title%20function_%22%3Earctan%3C/span%3E(%3Cspan%20class=%22hljs-params%22%3Ex%3C/span%3E)%20%7B%0A%20%20%20%3Cspan%20class=%22hljs-keyword%22%3Efunction%3C/span%3E*%20%3Cspan%20class=%22hljs-title%20function_%22%3Egenerator%3C/span%3E(%3Cspan%20class=%22hljs-params%22%3E%3C/span%3E)%20%7B%0A%20%20%20%20%20%20%3Cspan%20class=%22hljs-keyword%22%3Elet%3C/span%3E%20sum%20=%20%3Cspan%20class=%22hljs-number%22%3E0%3C/span%3E;%0A%20%20%20%20%20%20%3Cspan%20class=%22hljs-keyword%22%3Efor%3C/span%3E(%3Cspan%20class=%22hljs-keyword%22%3Elet%3C/span%3E%20i%20=%20%3Cspan%20class=%22hljs-number%22%3E0%3C/span%3E;%20%3Cspan%20class=%22hljs-literal%22%3Etrue%3C/span%3E;%20i++)%20%7B%0A%20%20%20%20%20%20%20%20%20sum%20+=%20(%3Cspan%20class=%22hljs-title%20class_%22%3EMath%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Epow%3C/span%3E(-%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E,%20i)%20*%20%3Cspan%20class=%22hljs-title%20class_%22%3EMath%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Epow%3C/span%3E(x,%20%3Cspan%20class=%22hljs-number%22%3E2%3C/span%3E%20*%20i%20+%20%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E))%20/%20(%3Cspan%20class=%22hljs-number%22%3E2%3C/span%3E%20*%20i);%0A%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22hljs-keyword%22%3Eyield%3C/span%3E%20sum;%0A%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20%3Cspan%20class=%22hljs-keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22hljs-keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22hljs-title%20class_%22%3EList%3C/span%3E(generator);%0A%7D</code><p>To clarify, I&#39;ll explain the formula in two parts:</p><ol><li>Controlling the sign of each term.</li><li>Implementing the Taylor series formula.</li></ol><h3 id="controlling-the-sign-of-each-term">Controlling the Sign of Each Term</h3><p>By using a counter variable (<code>i</code>), I was able to alternate between positive and negative signs for each term in the series with the following code:</p><code class="hljs language-javascript">%3Cspan%20class=%22hljs-title%20class_%22%3EMath%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Epow%3C/span%3E(-%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E,%20i)%0A%0A%3Cspan%20class=%22hljs-comment%22%3E//%20Examples%3C/span%3E%0A%3Cspan%20class=%22hljs-variable%20language_%22%3Econsole%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Elog%3C/span%3E(%3Cspan%20class=%22hljs-title%20class_%22%3EMath%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Epow%3C/span%3E(-%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E,%20%3Cspan%20class=%22hljs-number%22%3E0%3C/span%3E));%20%3Cspan%20class=%22hljs-comment%22%3E//%20%201%3C/span%3E%0A%3Cspan%20class=%22hljs-variable%20language_%22%3Econsole%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Elog%3C/span%3E(%3Cspan%20class=%22hljs-title%20class_%22%3EMath%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Epow%3C/span%3E(-%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E,%20%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E));%20%3Cspan%20class=%22hljs-comment%22%3E//%20-1%3C/span%3E%0A%3Cspan%20class=%22hljs-variable%20language_%22%3Econsole%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Elog%3C/span%3E(%3Cspan%20class=%22hljs-title%20class_%22%3EMath%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Epow%3C/span%3E(-%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E,%20%3Cspan%20class=%22hljs-number%22%3E2%3C/span%3E));%20%3Cspan%20class=%22hljs-comment%22%3E//%20%201%3C/span%3E%0A%3Cspan%20class=%22hljs-variable%20language_%22%3Econsole%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Elog%3C/span%3E(%3Cspan%20class=%22hljs-title%20class_%22%3EMath%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Epow%3C/span%3E(-%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E,%20%3Cspan%20class=%22hljs-number%22%3E3%3C/span%3E));%20%3Cspan%20class=%22hljs-comment%22%3E//%20-1%3C/span%3E</code><p>The sum operator <code>+=</code> automatically handles the current term&#39;s sign based on the iteration.</p><h3 id="implementing-the-taylor-series-formula">Implementing the Taylor Series Formula</h3><p>The code representing each term in the series, such as <code>x^1/1</code>, is as follows:</p><code class="hljs language-javascript">%3Cspan%20class=%22hljs-title%20class_%22%3EMath%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Epow%3C/span%3E(x,%20%3Cspan%20class=%22hljs-number%22%3E2%3C/span%3E%20*%20i%20+%20%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E)%20/%20(%3Cspan%20class=%22hljs-number%22%3E2%3C/span%3E%20*%20i);</code><p>Each term is added to the <code>sum</code> variable, storing the cumulative result:</p><code class="hljs language-javascript">sum%20+=%20(%3Cspan%20class=%22hljs-title%20class_%22%3EMath%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Epow%3C/span%3E(-%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E,%20i)%20*%20%3Cspan%20class=%22hljs-title%20class_%22%3EMath%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Epow%3C/span%3E(x,%20%3Cspan%20class=%22hljs-number%22%3E2%3C/span%3E%20*%20i%20+%20%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E))%20/%20(%3Cspan%20class=%22hljs-number%22%3E2%3C/span%3E%20*%20i);</code><h2 id="implementing-the-pi-method">Implementing the <code>PI()</code> Method</h2><p>With the <code>arctan(x)</code> method in place, implementing the <code>PI()</code> method was straightforward. As mentioned earlier, I used Euler&#39;s formula to calculate&nbsp;&#960;:</p><code class="hljs language-javascript">%3Cspan%20class=%22hljs-keyword%22%3Estatic%3C/span%3E%20%3Cspan%20class=%22hljs-keyword%22%3Eget%3C/span%3E%20%3Cspan%20class=%22hljs-title%20function_%22%3EPI%3C/span%3E()%20%7B%0A%20%20%20%3Cspan%20class=%22hljs-keyword%22%3Efunction%3C/span%3E*%20%3Cspan%20class=%22hljs-title%20function_%22%3Egenerator%3C/span%3E(%3Cspan%20class=%22hljs-params%22%3E%3C/span%3E)%20%7B%0A%20%20%20%20%20%20%3Cspan%20class=%22hljs-keyword%22%3Elet%3C/span%3E%20counter%20=%20%3Cspan%20class=%22hljs-number%22%3E0%3C/span%3E;%0A%20%20%20%20%20%20%3Cspan%20class=%22hljs-keyword%22%3Elet%3C/span%3E%20pi%20=%20%3Cspan%20class=%22hljs-number%22%3E0%3C/span%3E;%0A%20%20%20%20%20%20%3Cspan%20class=%22hljs-keyword%22%3Eyield%3C/span%3E%20pi;%0A%20%20%20%20%20%20%3Cspan%20class=%22hljs-comment%22%3E//%20Euler&#x27;s%20formula:%3C/span%3E%0A%20%20%20%20%20%20%3Cspan%20class=%22hljs-keyword%22%3Econst%3C/span%3E%20%5B%20arc1_2,%20arc1_3%20%5D%20=%20%5B%20%3Cspan%20class=%22hljs-title%20class_%22%3EList%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Earctan%3C/span%3E(%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E%20/%20%3Cspan%20class=%22hljs-number%22%3E2%3C/span%3E),%20%3Cspan%20class=%22hljs-title%20class_%22%3EList%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Earctan%3C/span%3E(%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E%20/%20%3Cspan%20class=%22hljs-number%22%3E3%3C/span%3E)%20%5D;%0A%20%20%20%20%20%20%3Cspan%20class=%22hljs-keyword%22%3Ewhile%3C/span%3E(%3Cspan%20class=%22hljs-literal%22%3Etrue%3C/span%3E)%20%7B%0A%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22hljs-comment%22%3E//%20PI%20=%204%20*%20(%20arctan(1/2)%20+%20arctan(1/3)%20)%3C/span%3E%0A%20%20%20%20%20%20%20%20%20pi%20=%20%3Cspan%20class=%22hljs-number%22%3E4%3C/span%3E%20*%20(arc1_2.%3Cspan%20class=%22hljs-title%20function_%22%3Eget%3C/span%3E(counter)%20+%20arc1_3.%3Cspan%20class=%22hljs-title%20function_%22%3Eget%3C/span%3E(counter));%0A%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22hljs-keyword%22%3Eyield%3C/span%3E%20pi;%0A%20%20%20%20%20%20%20%20%20counter++;%0A%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20%3Cspan%20class=%22hljs-keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22hljs-keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22hljs-title%20class_%22%3EList%3C/span%3E(generator);%0A%7D</code><h2 id="final-calculation-of-π">Final Calculation of &#960;</h2><p>The most challenging aspect was managing the approximation in test cases. However, once the List class was fully implemented, it could be used as follows:</p><code class="hljs language-javascript">%3Cspan%20class=%22hljs-variable%20language_%22%3Econsole%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Elog%3C/span%3E(%3Cspan%20class=%22hljs-title%20class_%22%3EList%3C/span%3E.%3Cspan%20class=%22hljs-property%22%3EPI%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Eget%3C/span%3E(%3Cspan%20class=%22hljs-number%22%3E1%3C/span%3E));%20%20%20%3Cspan%20class=%22hljs-comment%22%3E//%203.333333333333333%3C/span%3E%0A%3Cspan%20class=%22hljs-variable%20language_%22%3Econsole%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Elog%3C/span%3E(%3Cspan%20class=%22hljs-title%20class_%22%3EList%3C/span%3E.%3Cspan%20class=%22hljs-property%22%3EPI%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Eget%3C/span%3E(%3Cspan%20class=%22hljs-number%22%3E5%3C/span%3E));%20%20%20%3Cspan%20class=%22hljs-comment%22%3E//%203.1417411974336886%3C/span%3E%0A%3Cspan%20class=%22hljs-variable%20language_%22%3Econsole%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Elog%3C/span%3E(%3Cspan%20class=%22hljs-title%20class_%22%3EList%3C/span%3E.%3Cspan%20class=%22hljs-property%22%3EPI%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Eget%3C/span%3E(%3Cspan%20class=%22hljs-number%22%3E12%3C/span%3E));%20%20%3Cspan%20class=%22hljs-comment%22%3E//%203.1415926497167876%3C/span%3E%0A%3Cspan%20class=%22hljs-variable%20language_%22%3Econsole%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Elog%3C/span%3E(%3Cspan%20class=%22hljs-title%20class_%22%3EList%3C/span%3E.%3Cspan%20class=%22hljs-property%22%3EPI%3C/span%3E.%3Cspan%20class=%22hljs-title%20function_%22%3Eget%3C/span%3E(%3Cspan%20class=%22hljs-number%22%3E100%3C/span%3E));%20%3Cspan%20class=%22hljs-comment%22%3E//%203.1415926535897922%3C/span%3E</code><p>The larger the value of <code>n</code>, the more accurate the result becomes.</p>